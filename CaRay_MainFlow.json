{
    "nodes": [
      {
        "parameters": {
          "method": "POST",
          "url": "https://api.openai.com/v1/realtime/sessions",
          "authentication": "predefinedCredentialType",
          "nodeCredentialType": "openAiApi",
          "sendBody": true,
          "specifyBody": "json",
          "jsonBody": "={\n  \"instructions\": \"# Personality and Tone\\n## Identity\\nä½ æ˜¯ä¸€ä½å†·éœã€å°ˆæ¥­ä¸”å€¼å¾—ä¿¡è³´çš„åœ‹æ³°éŠ€è¡ŒèªéŸ³å®¢æœå°ˆå“¡ã€‚ä½ æœ‰å¤šå¹´åœ¨é‡‘èå®¢æœé ˜åŸŸçš„ç¶“é©—ï¼Œç†Ÿæ‚‰å„ç¨®èº«ä»½é©—è­‰æµç¨‹èˆ‡å€‹è³‡ä¿è­·è¦ç¯„ã€‚ä½ ç¸½æ˜¯ä»¥å®¢æˆ¶ç‚ºä¸­å¿ƒï¼Œèªæ°£èª æ‡‡ã€æ¸…æ™°ï¼Œè®“äººæ„Ÿè¦ºå—åˆ°å°Šé‡èˆ‡ä¿è­·ã€‚ä½ æ“…é•·åœ¨å£“åŠ›ä¸‹ä¿æŒæ²‰è‘—ï¼Œå°¤å…¶åœ¨è™•ç†å®¢æˆ¶å€‹äººè³‡æ–™èˆ‡å¸³æˆ¶è³‡è¨Šæ™‚ï¼Œå±•ç¾å‡ºé«˜åº¦å°ˆæ¥­èˆ‡æ•æ„Ÿåº¦ã€‚\\n\\n## Task\\nä½ çš„ä»»å‹™æ˜¯å”åŠ©ä¾†é›»è€…å®Œæˆèº«ä»½é©—è­‰ï¼Œç¢ºèªå…¶ç‚ºå¸³æˆ¶æœ¬äººå¾Œï¼Œè©¢å•ä»–å€‘ç•¶å‰éœ€è¦è¾¦ç†çš„éŠ€è¡Œæ¥­å‹™ã€‚ä½ æœƒä¾æ“šæä¾›çš„èº«åˆ†è­‰å­—è™Ÿå–å¾— KYC é©—è­‰è³‡è¨Šï¼Œä¸¦ä¾ç…§å–å¾—çš„è³‡æ–™æå‡ºå•é¡Œä¾†ç¢ºèªèº«ä»½ã€‚\\n\\n## Demeanor\\nä½ å§‹ç»ˆä¿æŒè€å¿ƒä¸ç¤¼è²Œï¼Œå³ä½¿åœ¨é‡è¤‡ç¢ºèªè³‡è¨Šæ™‚ï¼Œä¹Ÿä¸æœƒé¡¯å¾—å‚¬ä¿ƒæˆ–ä¸æ‚…ã€‚ä½ çµ¦äººä¸€ç¨®å€¼å¾—ä¿¡ä»»çš„æ„Ÿè¦ºï¼Œè®“å®¢æˆ¶çŸ¥é“ä»–å€‘çš„è³‡è¨Šåœ¨ä½ æ‰‹ä¸­æ˜¯å®‰å…¨çš„ã€‚\\n\\n## Tone\\nä½ çš„èªæ°£æ¸…æ™°è€Œæ­£å¼ï¼Œä½†ä¸æœƒéæ–¼åš´è‚…ã€‚ä½ ä»¥å¹³å’Œã€ç©©é‡çš„èªèª¿èˆ‡å®¢æˆ¶äº’å‹•ï¼Œè®“å°æ–¹æ„Ÿå—åˆ°ä½ çš„å°ˆæ¥­èˆ‡å‹å–„ã€‚\\n\\n## Level of Enthusiasm\\nä½ ä¿æŒé©åº¦çš„å°ˆæ³¨èˆ‡ç†±å¿±ï¼Œåœ¨è™•ç†æ¯ä¸€æ­¥æ™‚å±•ç¾å‡ºè‡ªä¿¡èˆ‡æ•ˆç‡ã€‚ä½ ä¸éœ€è¦è¡¨ç¾å‡ºé«˜åº¦æƒ…ç·’ï¼Œè€Œæ˜¯ä»¥æ²‰ç©©çš„æ…‹åº¦å¸¶çµ¦å®¢æˆ¶å®‰å…¨æ„Ÿã€‚\\n\\n## Level of Formality\\nä½ çš„èªè¨€é¢¨æ ¼åå‘æ­£å¼èˆ‡ç¦®è²Œï¼Œç”¨è©æº–ç¢ºï¼Œé¿å…ä½¿ç”¨ä¿šèªæˆ–éæ–¼è¼•é¬†çš„è¡¨é”ã€‚\\n\\n## Level of Emotion\\nä½ ä¿æŒä½æƒ…ç·’è¡¨ç¾ï¼Œé‡é»åœ¨æ–¼ logique æ€§èˆ‡æº–ç¢ºæ€§ã€‚ç•¶å®¢æˆ¶å‡ºç¾ç·Šå¼µæˆ–å›°æƒ‘æ™‚ï¼Œä½ æœƒç”¨å®‰æ’«æ€§çš„èªå¥è®“ä»–å€‘å®‰å¿ƒã€‚\\n\\n## Filler Words\\nä¸ä½¿ç”¨ä»»ä½• filler wordsï¼Œä»¥ç¶­æŒå°ˆæ¥­ã€ç²¾ç¢ºçš„å½¢è±¡ã€‚\\n\\n## Pacing\\nèªé€Ÿè¦å¿«ä¸€é»ï¼Œç¢ºä¿æ¯å€‹é—œéµè³‡æ–™ï¼ˆå¦‚èº«åˆ†è­‰å­—è™Ÿã€å§“åç­‰ï¼‰éƒ½èƒ½æ¸…æ¥šåœ°ç¢ºèªèˆ‡æ‹¼å‡ºã€‚é‡åˆ°éœ€è¦ç¢ºèªçš„åœ°æ–¹æœƒé©åº¦åœé “ï¼Œç­‰å¾…å®¢æˆ¶åé¥‹ã€‚\\n\\n## Other details\\næ¯ç•¶å®¢æˆ¶æä¾›è³‡æ–™ï¼ˆå¦‚èº«åˆ†è­‰å­—è™Ÿï¼‰ï¼Œä½ éƒ½å¿…é ˆé‡è¤‡æ‹¼è®€ï¼ˆä½¿ç”¨å®¢æˆ¶çš„èªè¨€ï¼‰ï¼Œæ‹¼è®€æ•¸å­—çš„æ™‚å€™è«‹å‹™å¿…ä½¿ç”¨å®¢æˆ¶æ‰€ä½¿ç”¨çš„èªè¨€ï¼Œä¸¦è«‹å°æ–¹ç¢ºèªæ˜¯å¦æ­£ç¢ºã€‚è‹¥å®¢æˆ¶æ›´æ­£ï¼Œä½ æ‡‰å†æ¬¡ç¢ºèªæ–°è³‡è¨Šå¾Œå†é€²è¡Œä¸‹ä¸€æ­¥ã€‚\\n\\n# Language\\nä½¿ç”¨å®¢æˆ¶æ‰€å›ç­”çš„èªè¨€ä¾†å›è¦†ï¼Œé è¨­ç‚ºç¹é«”ä¸­æ–‡\\n\\n# Conversation States\\n[\\n  {\\n    \\\"id\\\": \\\"1_intro_and_greeting\\\",\\n    \\\"description\\\": \\\"è‡ªæˆ‘ä»‹ç´¹ä¸¦èªªæ˜å³å°‡é€²è¡Œèº«ä»½é©—è­‰ç¨‹åº\\\",\\n    \\\"instructions\\\": [\\n      \\\"ä»¥æ­£å¼ä¸”å‹å–„çš„èªæ°£å•å€™ä¾†é›»è€…ã€‚\\\",\\n      \\\"è‡ªæˆ‘ä»‹ç´¹ç‚ºåœ‹æ³°éŠ€è¡Œçš„èªéŸ³å®¢æœå°ˆå“¡ã€‚\\\",\\n      \\\"ç°¡çŸ­èªªæ˜æ¥ä¸‹ä¾†æœƒé€²è¡Œèº«ä»½é©—è­‰ç¨‹åºï¼Œä»¥ä¿è­·å¸³æˆ¶å®‰å…¨ã€‚\\\"\\n    ],\\n    \\\"examples\\\": [\\n      \\\"æ‚¨å¥½ï¼Œé€™è£¡æ˜¯åœ‹æ³°éŠ€è¡Œå®¢æœä¸­å¿ƒã€‚æˆ‘æ˜¯èªéŸ³å°ˆå“¡ï¼Œå¾ˆé«˜èˆˆç‚ºæ‚¨æœå‹™ã€‚ç‚ºäº†ç¢ºä¿æ‚¨çš„å¸³æˆ¶å®‰å…¨ï¼Œæˆ‘å€‘æœƒé€²è¡Œä¸€æ®µèº«ä»½é©—è­‰æµç¨‹ï¼Œæ„Ÿè¬æ‚¨çš„é…åˆã€‚\\\"\\n    ],\\n    \\\"transitions\\\": [{\\n      \\\"next_step\\\": \\\"2_request_id_number\\\",\\n      \\\"condition\\\": \\\"å®Œæˆè‡ªæˆ‘ä»‹ç´¹èˆ‡é©—è­‰èªªæ˜å¾Œ\\\"\\n    }]\\n  },\\n  {\\n    \\\"id\\\": \\\"2_request_id_number\\\",\\n    \\\"description\\\": \\\"è«‹æ±‚ä¸¦ç¢ºèªå®¢æˆ¶çš„èº«åˆ†è­‰å­—è™Ÿ\\\",\\n    \\\"instructions\\\": [\\n      \\\"è«‹ç¦®è²Œåœ°è¦æ±‚å®¢æˆ¶æä¾›å®Œæ•´çš„èº«åˆ†è­‰å­—è™Ÿã€‚\\\",\\n      \\\"é€å­—æ¯æ‹¼å‡ºä¸¦è«‹å®¢æˆ¶ç¢ºèªæ‹¼å­—æ˜¯å¦æ­£ç¢ºã€‚\\\",\\n      \\\"è‹¥æœ‰éŒ¯èª¤ï¼Œæ‡‰é‡æ–°æ‹¼å‡ºä¿®æ­£å¾Œçš„ç‰ˆæœ¬ä¸¦å†æ¬¡ç¢ºèªã€‚\\\"\\n    ],\\n    \\\"examples\\\": [\\n      \\\"è«‹å•æ‚¨çš„èº«åˆ†è­‰å­—è™Ÿæ˜¯ï¼Ÿ\\\",\\n      \\\"æ‚¨å‰›å‰›èªªçš„æ˜¯ A-1-2-3-4-5-6-7-8-9ï¼Œé€™æ¨£æ­£ç¢ºå—ï¼Ÿ\\\"\\n    ],\\n    \\\"transitions\\\": [{\\n      \\\"next_step\\\": \\\"3_call_KYC_tool\\\",\\n      \\\"condition\\\": \\\"èº«åˆ†è­‰å­—è™Ÿæ‹¼å‡ºå¾Œç¢ºèªç„¡èª¤\\\"\\n    }]\\n  },\\n  {\\n    \\\"id\\\": \\\"3_call_KYC_tool\\\",\\n    \\\"description\\\": \\\"ä½¿ç”¨èº«åˆ†è­‰å­—è™Ÿå‘¼å« KYC_info_retriever å‡½æ•¸ä»¥å–å¾—èº«ä»½é©—è­‰è³‡è¨Š\\\",\\n    \\\"instructions\\\": [\\n      \\\"å‘¼å« KYC_info_retriever å·¥å…·ï¼Œä¸¦å‚³å…¥å®¢æˆ¶æä¾›çš„èº«åˆ†è­‰å­—è™Ÿã€‚\\\",\\n      \\\"å°‡è¿”å›çš„é©—è­‰å•é¡Œèˆ‡è³‡è¨Šå„²å­˜ï¼Œä»¥ä¾›æ¥ä¸‹ä¾†é©—è­‰ä½¿ç”¨ã€‚\\\"\\n    ],\\n    \\\"examples\\\": [\\n      \\\"è¬è¬æ‚¨ï¼Œæˆ‘æœƒä½¿ç”¨é€™çµ„è³‡æ–™é€²è¡Œåˆæ­¥æ¯”å°ï¼Œè«‹ç¨å€™ã€‚\\\",\\n      \\\"æ­£åœ¨æŸ¥è©¢æ‚¨çš„è³‡æ–™â€¦â€¦\\\"\\n    ],\\n    \\\"transitions\\\": [{\\n      \\\"next_step\\\": \\\"4_ask_verification_question\\\",\\n      \\\"condition\\\": \\\"æˆåŠŸå–å¾— KYC è³‡è¨Šå¾Œ\\\"\\n    }]\\n  },\\n  {\\n    \\\"id\\\": \\\"4_ask_verification_question\\\",\\n    \\\"description\\\": \\\"ä¸€æ—¦å–å¾—KYCè³‡æ–™ï¼Œè«‹é¦¬ä¸Šæ ¹æ“šKYCè³‡è¨Šï¼Œå‘å®¢æˆ¶æå‡ºèº«ä»½é©—è­‰å•é¡Œä¸¦ç¢ºèªç­”æ¡ˆ\\\",\\n    \\\"instructions\\\": [\\n      \\\"æå‡ºå¾ KYC ç³»çµ±ä¸­å–å¾—çš„è³‡æ–™ï¼Œæœƒæœ‰ï¼šå°±è®€åœ‹å°ã€æœ‰å¹¾ä½å…„å¼Ÿå§Šå¦¹ã€èˆˆè¶£æ˜¯ä»€éº¼ï¼Œå¾é€™ä¸‰é …è£¡é¢æŒ‘å…©é …å›ç­”ã€‚\\\",\\n      \\\"èˆ‡è¿”å›è³‡æ–™æ¯”å°ï¼Œç¢ºèªç­”æ¡ˆæ˜¯å¦æ­£ç¢ºã€‚\\\",\\n      \\\"è‹¥ç­”æ¡ˆéŒ¯èª¤ï¼Œå¯é…Œæƒ…é‡è©¦ä¸€æ¬¡æˆ–è½‰ç”±äººå·¥è™•ç†ã€‚\\\"\\n    ],\\n    \\\"examples\\\": [\\n      \\\"ç‚ºäº†é€²ä¸€æ­¥é©—è­‰æ‚¨çš„èº«ä»½ï¼Œè«‹å•æ‚¨å°±è®€çš„æ˜¯å“ªä¸€æ‰€åœ‹å°ï¼Ÿ\\\",\\n      \\\"è«‹å•æ‚¨çš„èˆˆè¶£æ˜¯ï¼Ÿ\\\",\\n      \\\"å¥½çš„ï¼Œè®“æˆ‘ç¢ºèªä¸€ä¸‹æ‚¨æä¾›çš„ç­”æ¡ˆã€‚\\\",\\n      \\\"è«‹å•æ‚¨å°±è®€çš„åœ‹å°æ˜¯ï¼Ÿ\\\",\\n      \\\"å¥½çš„ï¼Œè®“æˆ‘ç¢ºèªä¸€ä¸‹æ‚¨æä¾›çš„ç­”æ¡ˆã€‚\\\"\\n    ],\\n    \\\"transitions\\\": [{\\n      \\\"next_step\\\": \\\"5_ask_user_intent\\\",\\n      \\\"condition\\\": \\\"ç¢ºèªå®¢æˆ¶èº«ä»½å¾Œï¼ˆå®¢æˆ¶æ­£ç¢ºå›ç­”æ‰€æœ‰çš„é©—è­‰å•é¡Œï¼‰\\\"\\n    }]\\n  },\\n  {\\n    \\\"id\\\": \\\"5_ask_user_intent\\\",\\n    \\\"description\\\": \\\"ä¸€æ—¦èº«ä»½ç¢ºèªï¼Œè©¢å•å®¢æˆ¶ä»Šå¤©æƒ³è¾¦ç†ä»€éº¼æ¥­å‹™\\\",\\n    \\\"instructions\\\": [\\n      \\\"ç¢ºèªèº«ä»½é©—è­‰æˆåŠŸå¾Œï¼Œè©¢å•å®¢æˆ¶ä»Šå¤©å¸Œæœ›è¾¦ç†å“ªäº›æ¥­å‹™ã€‚\\\",\\n      \\\"å°‡å®¢æˆ¶æä¾›çš„æ¥­å‹™éœ€æ±‚è¨˜ç‚º 'intention'\\\"\\n    ],\\n    \\\"examples\\\": [\\n      \\\"è¬è¬æ‚¨çš„é…åˆï¼Œæ‚¨çš„èº«ä»½å·²ç¶“ç¢ºèªå®Œç•¢ã€‚è«‹å•ä»Šå¤©æƒ³ç‚ºæ‚¨è¾¦ç†ä»€éº¼æœå‹™ï¼Ÿ\\\"\\n    ],\\n    \\\"transitions\\\": [{\\n      \\\"next_step\\\": \\\"6_classify_function\\\",\\n      \\\"condition\\\": \\\"ç¢ºèªè½åˆ°å®¢æˆ¶æå‡ºéœ€æ±‚å¾Œ\\\"\\n    }]\\n  },\\n  {\\n    \\\"id\\\": \\\"6_classify_function\\\",\\n    \\\"description\\\": \\\"å®¢æˆ¶æå‡ºéœ€æ±‚å¾Œï¼Œå‘¼å« SaveData å‡½æ•¸ï¼Œå°‡è³‡æ–™å­˜å…¥ç›®æ¨™æª”æ¡ˆ\\\",\\n    \\\"instructions\\\": [\\n      \\\"è«‹æ ¹æ“šå®¢æˆ¶å…ˆå‰æä¾›çš„æ¥­å‹™éœ€æ±‚ (intention)ï¼Œå°‡å…¶åˆ†é¡ç‚ºä»¥ä¸‹ä¸‰è€…ä¹‹ä¸€ï¼š'ä¿¡ç”¨å¡ç›œåˆ·æ›å¤±', 'ä¿¡ç”¨å¡ç›¸é—œäº‹å®œ', 'éŠ€è¡Œå¸³æˆ¶ç›¸é—œäº‹å®œ'ï¼Œå°‡æ­¤åˆ†é¡çµæœè¨˜ç‚º 'intention_classified'ã€‚\\\",\\n      \\\"è«‹ç¢ºèªæ‚¨å·²æŒæœ‰å®¢æˆ¶çš„èº«åˆ†è­‰å­—è™Ÿ (id)ã€ä»¥åŠåŸå§‹çš„æ¥­å‹™éœ€æ±‚ (intention)ã€ä»¥åŠåˆ†é¡å¥½çš„çµæœ(intention_classified)ã€‚\\\",\\n      \\\"ç„¶å¾Œï¼Œè«‹å‘¼å« SaveData å‡½æ•¸ï¼Œå°‡æ”¶é›†åˆ°çš„èº«åˆ†è­‰å­—è™Ÿ (id)ã€åŸå§‹æ¥­å‹™éœ€æ±‚ (intention)ï¼Œ åˆ†é¡å¥½çš„çµæœ'intention_classified' ä½œç‚ºåƒæ•¸ï¼Œå°‡è³‡æ–™é€éurlå›å‚³è‡³ç³»çµ±ã€‚\\\",\\n      \\\"å®Œæˆå¾Œï¼Œå¯ä»¥å‘ŠçŸ¥å®¢æˆ¶ï¼šæ‚¨çš„éœ€æ±‚å·²è¨˜éŒ„ã€‚\\\"\\n    ],\\n    \\\"examples\\\": [\\n      \\\"è«‹ç¨å€™......\\\"\\n    ],\\n    \\\"transitions\\\": [{\\n      \\\"next_step\\\": \\\"7_end_the_sessiion\\\",\\n      \\\"condition\\\": \\\"ç¢ºä¿è³‡æ–™å·²ç¶“è¢«å‚³é€å¾Œ\\\"\\n    }]\\n  },\\n  {\\n    \\\"id\\\": \\\"7_end_the_sessiion\\\",\\n    \\\"description\\\": \\\"åœ¨ 6_classify_function çµæŸä¹‹å¾Œ\\\",\\n    \\\"instructions\\\": [\\n      \\\"åœ¨è³‡æ–™å·²ç¶“è¢«å‚³é€å¾Œï¼Œå‘ŠçŸ¥å®¢æˆ¶ã€Œå·²è½‰æ¥å®¢æœã€ï¼Œä¸¦è«‹å‘¼å« EndSession å‡½æ•¸ï¼Œå°‡é€™å€‹å°è©±çµ‚æ­¢\\\"\\n    ],\\n    \\\"examples\\\": [\\n      \\\"å·²ç¶“å¹«ä½ è½‰æ¥è‡³å®¢æœ\\\"\\n    ]\\n  }\\n]\",\n  \"model\": \"gpt-4o-realtime-preview-2024-12-17\",\n  \"modalities\": [\n    \"audio\",\n    \"text\"\n  ],\n  \"voice\": \"alloy\",\n  \"input_audio_transcription\": {\n    \"model\": \"whisper-1\"\n  },\n  \"tools\": [\n    {\n      \"type\": \"function\",\n      \"description\": \"ä¾æ“šç”¨æˆ¶æä¾›çš„èº«åˆ†è­‰å­—è™Ÿï¼ŒæŸ¥è©¢è©²ç”¨æˆ¶çš„ KYC è³‡æ–™ã€‚é€šå¸¸åœ¨ä½¿ç”¨è€…å‰›é©—è­‰èº«ä»½å¾Œç«‹å³ä½¿ç”¨ã€‚\",\n      \"name\": \"KYC_info_retriever\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\",\n            \"description\": \"ç”¨æˆ¶çš„èº«åˆ†è­‰å­—è™Ÿï¼Œæ ¼å¼å¿…é ˆæ˜¯1å€‹è‹±æ–‡å­—æ¯å’Œ9å€‹æ•¸å­—\"\n          }\n        },\n        \"required\": [\n          \"id\"\n        ]\n      }\n    },\n    {\n      \"type\": \"function\",\n      \"description\": \"åœ¨çŸ¥é“ã€Œ1. å§“å, 2. èº«åˆ†è­‰å­—è™Ÿ, 3. è¾¦ç†æ¥­å‹™, 4.è¾¦ç†æ¥­å‹™ä¹‹åˆ†é¡ã€ï¼Œé€™å››é …ä¹‹å¾Œï¼Œè¦å°‡è³‡è¨Šè¼¸å‡ºtxtæª”\",\n      \"name\": \"SaveData\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"id\": {\n            \"type\": \"string\",\n            \"description\": \"ç”¨æˆ¶çš„èº«åˆ†è­‰å­—è™Ÿï¼Œæ ¼å¼å¿…é ˆæ˜¯1å€‹è‹±æ–‡å­—æ¯å’Œ9å€‹æ•¸å­—\"\n          },\n          \"intention\": {\n            \"type\": \"string\",\n            \"description\": \"ç”¨æˆ¶æƒ³è¾¦ç†çš„æ¥­å‹™\"\n          },\n          \"intention_classified\": {\n            \"type\": \"string\",\n            \"description\": \"è¾¦ç†æ¥­å‹™ä¹‹åˆ†é¡ï¼Œå¿…é ˆæ˜¯ã€Œä¿¡ç”¨å¡ç›œåˆ·æ›å¤±,ä¿¡ç”¨å¡ç›¸é—œäº‹å®œ,éŠ€è¡Œå¸³æˆ¶ç›¸é—œäº‹å®œã€å…¶ä¸­ä¹‹ä¸€\"\n          }\n        },\n        \"required\": [ \"id\", \"intention\", \"intention_classified\" ]\n      }\n    },\n    {\n      \"type\": \"function\",\n      \"description\": \"åœ¨è¼¸å‡ºå…§å®¹åˆ°ç¶²é å¾Œï¼Œçµ‚æ­¢é€™å€‹å°è©±\",\n      \"name\": \"EndSession\",\n      \"parameters\": {\n        \"type\": \"object\",\n        \"properties\": {}\n      }\n    }\n  ],\n  \"tool_choice\": \"auto\"\n}",
          "options": {}
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.2,
        "position": [
          480,
          0
        ],
        "id": "9e816619-bbe5-4d74-aa32-db103402cbd7",
        "name": "HTTP Request",
        "credentials": {
          "openAiApi": {
            "id": "s0ZqU99FixrACBKo",
            "name": "OpenAi account"
          }
        }
      },
      {
        "parameters": {
          "path": "realtime-ai",
          "responseMode": "responseNode",
          "options": {
            "allowedOrigins": "*"
          }
        },
        "type": "n8n-nodes-base.webhook",
        "typeVersion": 2,
        "position": [
          -40,
          0
        ],
        "id": "5a567543-8b4f-4705-8cf3-ef95440cd900",
        "name": "Webhook",
        "webhookId": "32b73c7b-424e-4ed7-aa29-25ffbb46f1ee"
      },
      {
        "parameters": {
          "html": "<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>NanoAI RT</title>\n  <style>\n.container {\n  background-color: #ffffff;\n  text-align: left;\n  padding: 16px;\n  border-radius: 8px;\n}\n.msg {\n    padding: 5px;\n    background-color: #eee;\n}\n.msgUsr {\n    padding: 5px;\n    background-color: #e4eefd;\n}\n.curMsg {\n    padding: 5px;\n    background-color: #e6ffd9;\n}\nh1 {\n    margin: 5px;\n    font-size: 20px;\n}\n</style>\n</head>\n<body>\n  <H1>Let's talk!</H1>\n  <div class=\"container\">\n    <div class=\"messages\"></div>\n    <div class=\"curMsg\"></div>\n    <div id=\"statusLog\" style=\"background:#f0f0f0;padding:10px;margin-top:10px;font-family:monospace;font-size:14px;border:1px solid #ccc;\">\n      <strong>Status Log:</strong><br/>\n    </div>\n  </div>\n<script>\n\nlet micTrack = null;\nlet isRecording = false;\nlet dc;\nlet pc; // <--- æå‡ pc ä½œç”¨åŸŸ\nlet ms; // <--- æå‡ ms ä½œç”¨åŸŸ\n\ndocument.addEventListener(\"keydown\", (e) => {\n  if (e.code === \"Space\" && !isRecording) {\n    e.preventDefault();\n    isRecording = true;\n    if (micTrack) micTrack.enabled = true;\n    appendStatusLog(\"ğŸ¤ é–‹å§‹æ”¶éŸ³\");\n  }\n});\n\ndocument.addEventListener(\"keyup\", (e) => {\n  if (e.code === \"Space\" && isRecording) {\n    e.preventDefault();\n    isRecording = false;\n    if (micTrack) micTrack.enabled = false;\n    appendStatusLog(\"ğŸ›‘ åœæ­¢æ”¶éŸ³\");\n  }\n});\n\nfunction appendStatusLog(text) {\n  const log = document.getElementById(\"statusLog\");\n  const line = document.createElement(\"div\");\n  const timestamp = `[${new Date().toLocaleTimeString(\"zh-TW\", { hour12: false })}] `;\n  if (text.includes(\"<pre>\")) {\n    line.innerHTML = timestamp + text;\n  } else {\n    line.textContent = timestamp + text;\n  }\n  log.appendChild(line);\n  log.scrollTop = log.scrollHeight;\n}\n\nasync function init() {\n  const EPHEMERAL_KEY = \"{{ $json.client_secret.value }}\";\n  pc = new RTCPeerConnection(); // <--- è³¦å€¼çµ¦å…¨å±€ pc\n\n  const audioEl = document.createElement(\"audio\");\n  audioEl.autoplay = true;\n  pc.ontrack = e => audioEl.srcObject = e.streams[0];\n\n  try {\n    ms = await navigator.mediaDevices.getUserMedia({ audio: true }); // <--- è³¦å€¼çµ¦å…¨å±€ ms\n    micTrack = ms.getTracks()[0];\n    micTrack.enabled = false;\n    pc.addTrack(micTrack);\n  } catch (err) {\n    appendStatusLog(`âŒ ç„¡æ³•å–å¾—éº¥å…‹é¢¨æ¬Šé™: ${err.message}`);\n    return;\n  }\n\n  dc = pc.createDataChannel(\"oai-events\");\n  dc.addEventListener(\"message\", (e) => {\n    handleResponse(e);\n  });\n\n  dc.onopen = () => appendStatusLog(\"ğŸ”— DataChannel å·²é–‹å•Ÿ\");\n  dc.onclose = () => appendStatusLog(\"ğŸšª DataChannel å·²é—œé–‰ (å¤–éƒ¨äº‹ä»¶æˆ– EndSession)\");\n\n\n  try {\n    const offer = await pc.createOffer();\n    await pc.setLocalDescription(offer);\n\n    const baseUrl = \"https://api.openai.com/v1/realtime\";\n    const model = \"gpt-4o-realtime-preview-2024-12-17\";\n    const sdpResponse = await fetch(`${baseUrl}?model=${model}`, {\n      method: \"POST\",\n      body: offer.sdp,\n      headers: {\n        Authorization: `Bearer ${EPHEMERAL_KEY}`,\n        \"Content-Type\": \"application/sdp\"\n      },\n    });\n\n    if (!sdpResponse.ok) {\n        const errorText = await sdpResponse.text();\n        throw new Error(`SDP äº¤æ›å¤±æ•—: ${sdpResponse.status} ${errorText}`);\n    }\n\n    const answer = {\n      type: \"answer\",\n      sdp: await sdpResponse.text(),\n    };\n    await pc.setRemoteDescription(answer);\n    appendStatusLog(\"ğŸš€ Realtime é€£ç·šå·²å»ºç«‹\");\n\n  } catch (err) {\n    appendStatusLog(`âŒ åˆå§‹åŒ– Realtime é€£ç·šå¤±æ•—: ${err.message}`);\n  }\n}\n\nfunction handleResponse(e) {\n  const obj = JSON.parse(e.data);\n  appendStatusLog(`ğŸ“¥ Received event: ${obj.type}`);\n\n  if (obj.type === 'response.audio_transcript.done') {\n    appendStatusLog(`ğŸ¤– AI æœ€çµ‚èªéŸ³ç¨¿: ${obj.transcript}`);\n    document.querySelector('.curMsg').innerHTML = \"\";\n    document.querySelector('.messages').innerHTML += `<div class='msg'>AI: ${obj.transcript}</div><br/>`;\n  }\n\n  if (obj.type === 'conversation.item.input_audio_transcription.completed') {\n    appendStatusLog(`ğŸ‘¤ ä½¿ç”¨è€…æœ€çµ‚èªéŸ³ç¨¿: ${obj.transcript}`);\n    document.querySelector('.curMsg').innerHTML = \"\";\n    document.querySelector('.messages').innerHTML += `<div class='msgUsr'>User: ${obj.transcript}</div><br/>`;\n  }\n\n  if (obj.type === 'response.audio_transcript.delta' || obj.type === 'conversation.item.input_audio_transcription.delta') {\n    document.querySelector('.curMsg').innerHTML += obj.delta;\n  }\n\n  if (obj.type === \"response.function_call_arguments.done\") {\n    appendStatusLog(`ğŸ§ª function_call_arguments.done çš„å®Œæ•´ç‰©ä»¶ï¼š<pre>${JSON.stringify(obj, null, 2)}</pre>`);\n\n    const toolName = obj.name;\n    const argsStr = obj.arguments;\n    const callIdForTool = obj.call_id;\n    let args;\n\n    try {\n      args = JSON.parse(argsStr);\n    } catch (parseError) {\n      appendStatusLog(`âŒ è§£æ arguments å¤±æ•—: ${parseError.message}`);\n      args = {};\n      if (dc && dc.readyState === \"open\") {\n        dc.send(JSON.stringify({\n          type: \"conversation.item.create\",\n          item: {\n            type: \"function_call_output\",\n            call_id: callIdForTool,\n            output: JSON.stringify({ error: `Failed to parse arguments: ${parseError.message}` })\n          }\n        }));\n      }\n      return;\n    }\n\n    appendStatusLog(`ğŸ“ GPT è¦å‘¼å«å·¥å…·ï¼š${toolName}ï¼Œåƒæ•¸ï¼š${argsStr}`);\n\n    async function fakeKYCFunction(id) {\n        const itemsString = `{{ JSON.stringify($(\"Google Sheets\").all()) }}`;\n        let items = [];\n        try {\n            items = JSON.parse(itemsString);\n            if (!Array.isArray(items)) throw new Error(\"Google Sheets data is not an array.\");\n        } catch (err) {\n            appendStatusLog(`âŒ è§£æ Google Sheets è³‡æ–™å¤±æ•—: ${err.message}`);\n            return { id, error: true, message: `ç„¡æ³•è®€å– KYC è³‡æ–™ä¾†æº: ${err.message}` };\n        }\n\n        try {\n          if (!id) throw new Error(\"KYC æŸ¥è©¢è«‹æä¾› id\");\n          const rows = items.map(item => item.json || item);\n          const matched = rows.find(row => String(row.id).trim() === String(id).trim());\n\n          if (!matched) {\n            throw new Error(`æ‰¾ä¸åˆ° ID ç‚º ${id} çš„ KYC è³‡æ–™`);\n          }\n          return {\n            id: matched.id,\n            name: matched[\"å§“å\"], \n            school: matched[\"å°±è®€åœ‹å°\"],\n            hobby: matched[\"èˆˆè¶£\"],\n            siblings: matched[\"å¹¾å€‹å…„å¼Ÿå§Šå¦¹\"],\n            info: \"ä½¿ç”¨è€… KYC è³‡æ–™æˆåŠŸå–å¾—\"\n          };\n        } catch (err) {\n          return { id, error: true, message: err.message };\n        }\n    }\n\n    async function fakeInfoSender(id, intention) { // å¦‚æœæ‚¨é‚„éœ€è¦é€™å€‹å·¥å…·\n      appendStatusLog(`â„¹ï¸ æ¨¡æ“¬ info_sender: id=${id}, intention=${intention}`);\n      return { id, status: \"sent\", intention, message: \"è³‡è¨Šå·²æ¨¡æ“¬ç™¼é€\" };\n    }\n\n    (async () => {\n      let resultForAI = {}; // åˆå§‹åŒ–ï¼Œç¢ºä¿æ‰€æœ‰åˆ†æ”¯éƒ½æœ‰è³¦å€¼\n\n      try {\n        if (toolName === \"KYC_info_retriever\") {\n          resultForAI = await fakeKYCFunction(args.id);\n        } else if (toolName === \"SaveData\") {\n          appendStatusLog(`â¡ï¸ æº–å‚™å°‡æ•¸æ“šç™¼é€åˆ° n8n ä»¥åŸ·è¡Œ SaveData...`);\n          if (!args.id || !args.intention || !args.intention_classified) {\n            const missingParams = [];\n            if (!args.id) missingParams.push(\"id\");\n            if (!args.intention) missingParams.push(\"intention\");\n            if (!args.intention_classified) missingParams.push(\"intention_classified\");\n            const errorMessage = `SaveData ç¼ºå°‘å¿…è¦åƒæ•¸: ${missingParams.join(\", \")}`;\n            appendStatusLog(`âŒ ${errorMessage}`);\n            resultForAI = { error: true, message: errorMessage };\n          } else {\n            const saveDataPayload = {\n              id: args.id,\n              intention: args.intention,\n              intention_classified: args.intention_classified\n            };\n            const n8nWebhookUrl = \"https://mmbcolab.app.n8n.cloud/webhook/SaveData\"; // ä½¿ç”¨ç”Ÿç”¢ URL\n            try {\n              const response = await fetch(n8nWebhookUrl, {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify(saveDataPayload),\n              });\n              if (!response.ok) {\n                const errorText = await response.text();\n                appendStatusLog(`âŒ n8n Webhook éŒ¯èª¤: ${response.status} - ${errorText}`);\n                resultForAI = { error: true, message: `n8n Webhook è™•ç†å¤±æ•—: ${response.status}` };\n              } else {\n                appendStatusLog(`âœ… æ•¸æ“šå·²æˆåŠŸç™¼é€åˆ° n8n Webhook.`);\n                resultForAI = {\n                  status: \"success\",\n                  message: \"è³‡æ–™å·²æˆåŠŸè¨˜éŒ„ã€‚\",\n                  details_sent_to_n8n: saveDataPayload\n                };\n              }\n            } catch (networkError) {\n              appendStatusLog(`âŒ ç™¼é€æ•¸æ“šåˆ° n8n Webhook æ™‚ç¶²çµ¡éŒ¯èª¤: ${networkError.message}`);\n              resultForAI = { error: true, message: `ç„¡æ³•é€£æ¥åˆ° n8n æœå‹™: ${networkError.message}` };\n            }\n          }\n        } else if (toolName === \"EndSession\") {\n          appendStatusLog(\"ğŸ”„ æ­£åœ¨åŸ·è¡Œ EndSession å·¥å…·...\");\n\n          // å˜—è©¦å‘ AI è¿”å›å·¥å…·åŸ·è¡ŒæˆåŠŸçš„æ¶ˆæ¯ (åœ¨é—œé–‰ dc ä¹‹å‰)\n          if (dc && dc.readyState === \"open\") {\n            dc.send(JSON.stringify({\n              type: \"conversation.item.create\",\n              item: {\n                type: \"function_call_output\",\n                call_id: callIdForTool,\n                output: JSON.stringify({ status: \"session_ended\", message: \"Session termination initiated by EndSession tool.\" })\n              }\n            }));\n            appendStatusLog(\"ğŸ“¤ å·²å˜—è©¦å›å‚³ EndSession å·¥å…·çµæœçµ¦ Assistant\");\n          } else {\n            appendStatusLog(\"âš ï¸ DataChannel æœªé–‹å•Ÿï¼Œç„¡æ³•å›å‚³ EndSession å·¥å…·çµæœçµ¦ Assistant\");\n          }\n          \n          // é—œé–‰ DataChannel\n          if (dc && dc.readyState === \"open\") { // å†æ¬¡æª¢æŸ¥ï¼Œä»¥é˜²ä¸Šé¢ç™¼é€æ™‚ç‹€æ…‹æ”¹è®Š\n            dc.close();\n            appendStatusLog(\"ğŸšª DataChannel å·²ä¸»å‹•é—œé–‰ (by EndSession)\");\n          } else if (dc) {\n            appendStatusLog(`ğŸšª DataChannel ç‹€æ…‹: ${dc.readyState} (æœªä¸»å‹•é—œé–‰ by EndSession)`);\n          }\n\n\n          // é—œé–‰ RTCPeerConnection\n          if (pc) {\n            pc.close();\n            appendStatusLog(\"ğŸ”Œ RTCPeerConnection å·²ä¸»å‹•é—œé–‰ (by EndSession)\");\n          }\n\n          // åœæ­¢æœ¬åœ°åª’é«”è»Œé“\n          if (ms && typeof ms.getTracks === 'function') {\n            ms.getTracks().forEach(track => track.stop());\n            appendStatusLog(\"ğŸ¤ æœ¬åœ°åª’é«”è»Œé“ (ms) å·²åœæ­¢ (by EndSession)\");\n          } else if (micTrack && typeof micTrack.stop === 'function') {\n            micTrack.stop();\n            appendStatusLog(\"ğŸ¤ æœ¬åœ°åª’é«”è»Œé“ (micTrack) å·²åœæ­¢ (by EndSession)\");\n          }\n          \n          appendStatusLog(\"ğŸ æœå‹™çµæŸ (EndSession tool åŸ·è¡Œå®Œç•¢)\");\n          resultForAI = { status: \"session_ended_locally\", message: \"Local resources released.\" }; // é€™å€‹çµæœä¸»è¦ç”¨æ–¼æœ¬åœ°æ—¥èªŒï¼Œå› ç‚º dc å¯èƒ½å·²é—œé–‰\n\n          // å¯é¸ï¼šæª¢æŸ¥ WebRTC é€£æ¥ç‹€æ…‹ï¼Œç”¨æ–¼èª¿è©¦\n          if (pc && (pc.connectionState === \"disconnected\" ||\n              pc.connectionState === \"closed\" ||\n              pc.connectionState === \"failed\")) {\n            appendStatusLog(\"âœ… WebRTC é€£æ¥ç‹€æ…‹ç¢ºèªï¼šå·²ä¸­æ–·/é—œé–‰ã€‚\");\n          } else if (pc) {\n            appendStatusLog(`âš ï¸ WebRTC é€£æ¥ç‹€æ…‹: ${pc.connectionState} (å¯èƒ½æœªç«‹å³å®Œå…¨é—œé–‰)`);\n          }\n\n        } else { // è™•ç†æœªçŸ¥å·¥å…·\n          appendStatusLog(`â“ æœªçŸ¥çš„å·¥å…·åç¨±: ${toolName}`);\n          resultForAI = { error: true, message: `æœªçŸ¥çš„å·¥å…·åç¨±: ${toolName}`, tool_name: toolName };\n        }\n\n        // --- å‘ AI Assistant å›å‚³å·¥å…·åŸ·è¡Œçµæœ (é™¤äº† EndSessionï¼Œå®ƒå·²åœ¨å…§éƒ¨è™•ç†) ---\n        if (toolName !== \"EndSession\") {\n          appendStatusLog(`ğŸ›  ${toolName} å·¥å…·åŸ·è¡Œçµæœ (æº–å‚™å›å‚³çµ¦AI)ï¼š${JSON.stringify(resultForAI)}`);\n          if (dc && dc.readyState === \"open\") {\n            dc.send(JSON.stringify({\n              type: \"conversation.item.create\",\n              item: {\n                type: \"function_call_output\",\n                call_id: callIdForTool,\n                output: JSON.stringify(resultForAI)\n              }\n            }));\n            appendStatusLog(`ğŸ“¤ å·²å›å‚³ ${toolName} å·¥å…·çµæœ (call_id: ${callIdForTool}) çµ¦ Assistant`);\n          } else {\n            appendStatusLog(`âŒ DataChannel æœªé–‹å•Ÿï¼Œç„¡æ³•å›å‚³ ${toolName} å·¥å…·çµæœ (call_id: ${callIdForTool})`);\n          }\n        }\n\n      } catch (toolExecutionError) {\n        appendStatusLog(`âŒ å·¥å…·åŸ·è¡Œæˆ–å›å‚³æ™‚ç™¼ç”Ÿåš´é‡éŒ¯èª¤: ${toolExecutionError.message}. Stack: ${toolExecutionError.stack}`);\n        if (dc && dc.readyState === \"open\") { // ä»ç„¶å˜—è©¦é€šéé–‹æ”¾çš„ dc å›å‚³éŒ¯èª¤\n          dc.send(JSON.stringify({\n            type: \"conversation.item.create\",\n            item: {\n              type: \"function_call_output\",\n              call_id: callIdForTool,\n              output: JSON.stringify({ error: true, message: `å·¥å…·åŸ·è¡ŒæœŸé–“ç™¼ç”Ÿå…§éƒ¨éŒ¯èª¤: ${toolExecutionError.message}` })\n            }\n          }));\n          appendStatusLog(`ğŸ“¤ å·²å›å‚³å·¥å…·åŸ·è¡Œåš´é‡éŒ¯èª¤ (call_id: ${callIdForTool}) çµ¦ Assistant`);\n        }\n      }\n    })();\n  }\n\n  if (obj.type === \"response.output_item.done\") {\n    const content = obj.content?.text;\n    if (content) {\n      document.querySelector('.curMsg').innerHTML = \"\";\n      document.querySelector('.messages').innerHTML += `<div class='msg'>AI: ${content}</div><br/>`;\n      appendStatusLog(`ğŸ—£ï¸ AI æœ€çµ‚å›æ‡‰å…§å®¹: ${content}`);\n    }\n  }\n\n  if (obj.type === \"output_audio_buffer.stopped\"){\n    // æ ¹æ“šæ‚¨çš„æµç¨‹æ±ºå®šé€™è£¡æ˜¯å¦éœ€è¦æ“ä½œ\n  }\n\n  if (obj.type === \"error\") {\n    appendStatusLog(`âŒ ç™¼ç”Ÿ API éŒ¯èª¤ï¼š<pre>${JSON.stringify(obj, null, 2)}</pre>`);\n  }\n}\n\ninit().catch(err => {\n  appendStatusLog(`âŒ åˆå§‹åŒ–éç¨‹ä¸­ç™¼ç”Ÿæœªæ•ç²çš„éŒ¯èª¤: ${err.message}`);\n});\n\n</script>\n</body>\n</html>"
        },
        "type": "n8n-nodes-base.html",
        "typeVersion": 1.2,
        "position": [
          860,
          0
        ],
        "id": "ae81e88e-87cf-4156-9aa1-8c84fa90cb2e",
        "name": "HTML"
      },
      {
        "parameters": {
          "respondWith": "text",
          "responseBody": "={{ $json.html }}",
          "options": {}
        },
        "type": "n8n-nodes-base.respondToWebhook",
        "typeVersion": 1.1,
        "position": [
          1160,
          0
        ],
        "id": "ba634dcf-2c5c-4795-bdb4-64cce43920f9",
        "name": "Respond to Webhook"
      },
      {
        "parameters": {
          "documentId": {
            "__rl": true,
            "value": "1yqU17PotNQNc7J1XOJaizkJ9a8I4WvYTQOPILLf0ueE",
            "mode": "list",
            "cachedResultName": "CaRay_Database",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1yqU17PotNQNc7J1XOJaizkJ9a8I4WvYTQOPILLf0ueE/edit?usp=drivesdk"
          },
          "sheetName": {
            "__rl": true,
            "value": "gid=0",
            "mode": "list",
            "cachedResultName": "å·¥ä½œè¡¨1",
            "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1yqU17PotNQNc7J1XOJaizkJ9a8I4WvYTQOPILLf0ueE/edit#gid=0"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.googleSheets",
        "typeVersion": 4.6,
        "position": [
          220,
          0
        ],
        "id": "2ef172a9-e160-4efe-b0a2-cf684aca7149",
        "name": "Google Sheets",
        "credentials": {
          "googleSheetsOAuth2Api": {
            "id": "fHa95vTbuJa2sg59",
            "name": "Google Sheets account"
          }
        }
      },
      {
        "parameters": {
          "content": "## æ‰“é–‹ç¶²ç«™è§¸ç™¼ç¯€é»\n",
          "height": 220,
          "width": 220
        },
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          -100,
          -80
        ],
        "id": "ca7c13c1-3607-4039-8f7b-5f2bd6088d53",
        "name": "Sticky Note"
      },
      {
        "parameters": {
          "content": "## è®€å–è³‡æ–™\nä¸²æ¥Google Sheetè®€å–KYCè¦é©—è­‰çš„è³‡æ–™\n\n",
          "height": 260,
          "width": 220
        },
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          160,
          -100
        ],
        "id": "041a54ec-4331-4c37-a9f2-5f726a0e725e",
        "name": "Sticky Note1"
      },
      {
        "parameters": {
          "content": "## å‘¼å«OpenAI Realtime API\nbody åŒ…å«æƒ³è¦èªéŸ³å®¢æœåŸ·è¡Œçš„æ­¥é©Ÿ\n\n",
          "height": 260,
          "width": 320
        },
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          420,
          -100
        ],
        "id": "5f1091ab-e6ed-467a-82e5-06dd422a47a5",
        "name": "Sticky Note2"
      },
      {
        "parameters": {
          "content": "## å°‡å°è©±åŠç‹€æ…‹é¡¯ç¤ºåœ¨ç¶²é ä¸Š\nç¶²é ä¸Šæœƒæœ‰console log, response status, å°è©±ç´€éŒ„, ...\n",
          "height": 300
        },
        "type": "n8n-nodes-base.stickyNote",
        "typeVersion": 1,
        "position": [
          800,
          -120
        ],
        "id": "4e268267-e223-43e3-af2a-b8cf2af066a2",
        "name": "Sticky Note3"
      }
    ],
    "connections": {
      "HTTP Request": {
        "main": [
          [
            {
              "node": "HTML",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Webhook": {
        "main": [
          [
            {
              "node": "Google Sheets",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "HTML": {
        "main": [
          [
            {
              "node": "Respond to Webhook",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Google Sheets": {
        "main": [
          [
            {
              "node": "HTTP Request",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "pinData": {},
    "meta": {
      "templateCredsSetupCompleted": true,
      "instanceId": "443d770b8fbd0d03299451806f3877dce0456e3ee5aa3f8ac4c390b5cf216dee"
    }
  }